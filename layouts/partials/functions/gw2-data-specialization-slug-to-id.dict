{{- $context := 0 | index . -}}

{{- $data := dict -}}

{{- $specializations := slice $context | partialCached "functions/gw2-api-get-specializations.dict" -}}

{{- range $specializations -}}
    {{- $slug := "name" | index . | slice $context | partial "functions/gw2-data-slugify.string" -}}
    {{- if $slug | index $data | not -}}
        {{- $data = "id" | index . | dict $slug | merge $data -}}
    {{- end -}}
{{- end -}}

{{- return $data -}}
