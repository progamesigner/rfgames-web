{{- $context := 0 | index . -}}
{{- $type := 1 | index . -}}
{{- $url := 2 | index . -}}
{{- $prefetchIds := 3 | index . | default slice -}}

{{- $data := dict -}}

{{- with "preloads" | index $context.Site.Data -}}
    {{- $data = $type | index . | default dict -}}
{{- end -}}

{{- if $data | len | le 0 -}}
    {{- $data = slice $context $url $prefetchIds | partial "functions/gw2-api-fetch.dict" | default dict -}}
{{- end -}}

{{- return $data -}}
