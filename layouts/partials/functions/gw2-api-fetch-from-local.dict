{{- $context := 0 | index . -}}
{{- $type := 1 | index . -}}
{{- $url := 2 | index . -}}
{{- $prefetchIds := 3 | index . | default slice -}}

{{- $data := slice $context $type | partial "functions/gw2-data-load.dict" -}}

{{- if $data | len | le 0 -}}
    {{- $data = slice $context $url $prefetchIds | partial "functions/gw2-api-fetch.dict" | default dict -}}
{{- end -}}

{{- return $data -}}
