{{- $context := 0 | index . -}}

{{- $codes := dict -}}

{{- $professions := slice $context | partialCached "functions/gw2-api-get-professions.dict" -}}

{{- range $professions -}}
    {{- range .skills_by_palette -}}
        {{- $paletteId := 0 | index . -}}
        {{- $skillId := 1 | index . | string -}}
        {{- $codes = dict $skillId $paletteId | merge $codes -}}
    {{- end -}}
{{- end -}}

{{- return $codes -}}
