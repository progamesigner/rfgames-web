{{- $context := 0 | index . -}}
{{- $type := 1 | index . -}}
{{- $name := 2 | index . -}}

{{- $id := $name -}}
{{- $slug := $name | slice $context | partial "functions/gw2-data-slugify.string" -}}

{{- if $name | string | eq $name -}}
    {{- $slugToId := slice $context | partialCached "functions/gw2-data-slug-to-id.dict" -}}

    {{- with $type | index $slugToId -}}
        {{- $id = $slug | index . | default 0 | int -}}
    {{- end -}}
{{- end -}}

{{- return $id -}}
